---
## Author
author:
  name: Сардаров Тимур Алишерович
  group: НПИбд-02-25
  email: timursardarov475@gmail.com
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6

## Title
title: "Отчет по лабораторной работе №10"
subtitle: "Архитектура компьютера"
license: "CC BY"
---

# Цель работы

Приобретение навыков написания программ для работы с файлами.

# Выполнение лабораторной работы

1. Создайте каталог для программам лабораторной работы № 10, перейдите в него и
создайте файлы lab10-1.asm, readme-1.txt и readme-2.txt:

```bash
mkdir ~/work/arch-pc/lab10
cd ~/work/arch-pc/lab10
touch lab10-1.asm readme-1.txt readme-2.txt
```

![Шаг 1](image/1.png){#fig-001 width=90%}

2. Введите в файл lab10-1.asm текст программы из листинга 10.1 (Программа записи в
файл сообщения). Создайте исполняемый файл и проверьте его работу.

Листинг 10.1. Программа записи в файл сообщения.

```asm
%include 'in_out.asm'
SECTION .data
filename db 'readme.txt', 0h 
msg db 'Введите строку для записи в файл: ', 0h 
SECTION .bss
contents resb 255 
SECTION .text
global _start
_start:
mov eax,msg
call sprint
mov ecx, contents
mov edx, 255
call sread
mov ecx, 2
mov ebx, filename
mov eax, 5
int 80h
mov esi, eax
mov eax, contents
call slen
mov edx, eax
mov ecx, contents
mov ebx, esi
mov eax, 4
int 80h
mov ebx, esi
mov eax, 6
int 80h
call quit
```

![Шаг 2](image/2.png){#fig-002 width=90%}

![Шаг 2.1](image/21.png){#fig-021 width=90%}

3. С помощью команды chmod измените права доступа к исполняемому файлу lab10-1,
запретив его выполнение. Попытайтесь выполнить файл. Объясните результат.

![Шаг 3](image/3.png){#fig-003 width=90%}

Из-за отсутствия прав файл не выполняется.

4. С помощью команды chmod измените права доступа к файлу lab10-1.asm с исходным
текстом программы, добавив права на исполнение. Попытайтесь выполнить его и
объясните результат.

![Шаг 4](image/4.png){#fig-004 width=90%}

При попытке выполнения идет попытка выполнить команды, но из-за их отсутствия
вывод выходит несуразный.

5. В соответствии с вариантом в таблице 10.4 предоставить права доступа к файлу readme-
1.txt представленные в символьном виде, а для файла readme-2.txt – в двочном виде.
Проверить правильность выполнения с помощью команды ls -l.


Таблица 10.4. Наборы прав доступа для задания №5.

| Номер варианта | В символьном виде | В двоичной системе |
|---------------|-------------------|-------------------|
| 1 | --x -wx rwx | 000 110 010 |
| 2 | rwx rwx --x | 110 111 101 |
| 3 | r-x -wx rw- | 011 101 011 |
| 4 | -w- --- -w- | 001 011 110 |
| 5 | --x -w- r-x | 001 101 010 |
| 6 | -w- r-x -w- | 011 001 111 |
| 7 | rw- rwx rw- | 101 111 111 |
| 8 | rw- -wx --x | 010 001 000 |
| 9 | --x -w- -w- | 001 011 101 |
| 10 | r-- r-- rwx | 001 100 010 |
| 11 | --x r-- -w- | 000 100 111 |
| 12 | --x -wx r-x | 001 010 010 |
| 13 | -w- --x --- | 110 011 001 |
| 14 | r-x rwx rwx | 110 111 110 |
| 15 | -wx --x rwx | 010 101 010 |
| 16 | --x r-x -w- | 001 010 101 |
| 17 | r-x -wx rw- | 010 000 010 |
| 18 | -wx r-x -wx | 101 011 110 |
| 19 | rw- rwx r-x | 111 111 001 |
| 20 | --- rw- -w- | 001 011 111 |


Вариант №12:

```bash
chmod u=x readme-1.txt
chmod g=wx readme-1.txt
chmod o=rx readme-1.txt
```

```bash
chmod 122 readme-2.txt
```

![Шаг 5](image/5.png){#fig-005 width=90%}


## Задание для самостоятельной работы

1. Напишите программу работающую по следующему алгоритму:

• Вывод приглашения “Как Вас зовут?”

• ввести с клавиатуры свои фамилию и имя

• создать файл с именем name.txt

• записать в файл сообщение “Меня зовут”

• дописать в файл строку введенную с клавиатуры

• закрыть файл


```asm
%include 'in_out.asm'
SECTION .data
filename db 'name.txt', 0h
msg db 'Как Вас зовут? ', 0h
msg_file db 'Меня зовут ', 0h
SECTION .bss
name resb 255
SECTION .text
global _start
_start:
mov eax, msg
call sprint
mov ecx, name
mov edx, 255
call sread
mov ecx, 0o101
mov ebx, filename
mov eax, 5
int 80h
mov esi, eax
mov eax, msg_file
call slen
mov edx, eax
mov ecx, msg_file
mov ebx, esi
mov eax, 4
int 80h
mov eax, name
call slen
mov edx, eax
mov ecx, name
mov ebx, esi
mov eax, 4
int 80h
mov ebx, esi
mov eax, 6
int 80h
call quit
```

Создать исполняемый файл и проверить его работу. Проверить наличие файла и его
содержимое с помощью команд ls и cat.

![Пункт 1.1](image/6.png){#fig-006 width=90%}

![Пункт 1.2](image/7.png){#fig-007 width=90%}


# Выводы

Проделанную работу можно найти по ссылке: https://github.com/tasardarov/study_2025-2026_arh-pc.git

Мы приобрели навыки написания программ для работы с файлами.

# Список литературы{.unnumbered}

::: {#refs}
1. GDB: The GNU Project Debugger. — URL: https://www.gnu.org/software/gdb/.
2. GNU Bash Manual. — 2016. — URL: https://www.gnu.org/software/bash/manual/.
3. Midnight Commander Development Center. — 2021. — URL: https://midnight-commander.
org/.
4. NASM Assembly Language Tutorials. — 2021. — URL: https://asmtutor.com/.
5. Newham C. Learning the bash Shell: Unix Shell Programming. — O’Reilly Media, 2005. —
354 с. — (In a Nutshell). — ISBN 0596009658. — URL: http://www.amazon.com/Learning-
bash-Shell-Programming-Nutshell/dp/0596009658.
6. Robbins A. Bash Pocket Reference. — O’Reilly Media, 2016. — 156 с. — ISBN 978-1491941591.
7. The NASM documentation. — 2021. — URL: https://www.nasm.us/docs.php.
8. Zarrelli G. Mastering Bash. — Packt Publishing, 2017. — 502 с. — ISBN 9781784396879.
9. Колдаев В. Д., Лупин С. А. Архитектура ЭВМ. — М. : Форум, 2018.
10. Куляс О. Л., Никитин К. А. Курс программирования на ASSEMBLER. — М. : Солон-Пресс,
2017.
11. Новожилов О. П. Архитектура ЭВМ и систем. — М. : Юрайт, 2016.
12. Расширенный ассемблер: NASM. — 2021. — URL: https://www.opennet.ru/docs/RUS/nasm/.
13. Робачевский А., Немнюгин С., Стесик О. Операционная система UNIX. — 2-е изд. — БХВ-
Петербург, 2010. — 656 с. — ISBN 978-5-94157-538-1.
14. Столяров А. Программирование на языке ассемблера NASM для ОС Unix. — 2-е изд. —
М. : МАКС Пресс, 2011. — URL: http://www.stolyarov.info/books/asm_unix.
15. Таненбаум Э. Архитектура компьютера. — 6-е изд. — СПб. : Питер, 2013. — 874 с. —
(Классика Computer Science).
16. Таненбаум Э., Бос Х. Современные операционные системы. — 4-е изд. — СПб. : Питер,
2015. — 1120 с. — (Классика Computer Science).
:::
